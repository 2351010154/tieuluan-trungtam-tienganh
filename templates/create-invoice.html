{% extends 'layout/base.html' %}
{% block content %}
<body>
<div class="wrapper">
    {% include 'sidebar.html' %}
    <div class="main">
        <div class="d-flex flex-column gap-3">
            <p class="fs-4 text-center">Hoá đơn</p>
            <div>
                <div class="form-floating">
                    <input class="form-control custom-form-field w-25" id="invoice-id-submit" required
                        {% if request.args.get('user_id') %}
                            disabled
                        {% endif %}
                    >
                    <label for="invoice-id-submit">Mã số sinh viên</label>
                </div>
                <div class="h-10"></div>
                <table class="table" id="invoice-table">
                    <thead class="table-dark">
                    <tr>
                        <th scope="col">Mã</th>
                        <th scope="col">Tên khoá học</th>
                        <th scope="col">Cấp độ</th>
                        <th scope="col">Lớp</th>
                        <th scope="col">Giá</th>
                        <th scope="col"></th>
                    </tr>
                    </thead>
                    <tbody id="invoice-table-content">
                    <tr>
                        <td colspan="6" class="text-center">Chưa có khoá học nào</td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <p>Tổng tiền <span id="invoice-total"></span></p>
            <div class="invoice-create-btn align-items-center">
                <p id="invoice-err" class="invoice-err">dsa</p>
                {% if request.args.get('user_id') %}
                <button class="btn btn-primary" id="invoice-pay-btn">Thanh toán</button>
                {% else %}
                <button class="btn btn-primary" id="invoice-add-course" data-bs-toggle="modal" data-bs-target="#add-courses-to-user-modal">Thêm khoá học</button>
                <button class="btn btn-primary" id="invoice-create">Tạo hoá đơn</button>
                {% endif %}
            </div>
        </div>

        <div id="add-courses-to-user-modal" class="modal fade">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content p-4 gap-3 d-flex flex-column" style="min-width: 400px;">
                    <h5 class="modal-title fw-bold ps-1">Khoá học</h5>
                    <select class="form-select select2" id="courses-select" data-placeholder="Chọn khoá học" multiple>

                    </select>

                    <p id="enroll-error" class="mx-auto pt-2"></p>
                    <button class="btn btn-primary" id="add-courses-confirm-btn">Xác nhận</button>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="module" src="{{ url_for('static', filename='scripts/create-invoice.js') }}"></script>
</body>
{% endblock %}
